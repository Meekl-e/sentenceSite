{% extends "base.html" %}
{% load static %}

{% block link %}
<link rel="stylesheet" href="{% static 'sentence/css/sentence_result.css' %}" media="screen">
{% endblock %}

{% block content%}
<div class="u-container-style u-layout-cell u-size-25 u-layout-cell-2">
            {% if pars_result %}
              <div class="u-container-layout u-container-layout-3">
                <h3 class="u-custom-font u-font-georgia u-text u-text-custom-color-1 u-text-default u-text-4">–í–∞—à —Ä–∞–∑–±–æ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h3>
              {% for sentence in pars_result %}
                  {% if pars_result|length > 1 %}
                  <h3>–†–∞–∑–±–æ—Ä {{ forloop.counter }} –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:</h3>
                  {% endif %}
                  {% for result in sentence.nn_results %}
                      {% if sentence.nn_results|length != 1 %}
                          <h2 class="u-custom-font u-font-georgia u-text u-text-9">–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
                              "{{ result.name }}":</h2>
                      {% endif %}



                  {% for token in result.tokens %}
                      <label class="u-custom-font u-font-georgia u-text u-text-9" style="text-align: center">
                      <a style="font-size: x-small">{{ token.pos }}</a>
                          <br>
                          <a class="{{ token.line }}">{{ token.text }} 
                          
                          
                          </a>
                      </label>

                      {% endfor %}
                  <br>
                      {% if result.simple_sentences_in|length == 1 %}
                      <h6 class="u-custom-font u-font-georgia u-text u-text-9">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:</h6>
                      <div class="u-custom-font u-font-georgia u-text u-text-9" style="display: flex;">
                          <div style="flex: 1;">
                              <h6>I.</h6>
                              <ol>
                                  <li>{{ result.type_goal }}</li>
                                  <li>{{ result.type_intonation }}</li>
                              </ol>
                          </div>
                          <div style="flex: 1;">
                              <h6>II.</h6>
                              <ol>
                                  <li>{{ result.gram_bases }}</li>
                                  <li>{{ result.simple_sentences_in.0.main_members }}</li>
                                  <li>{{ result.simple_sentences_in.0.second_members }}</li>
                                  <li>{{ result.simple_sentences_in.0.difficulty_members }}</li>
                                  <li>{{ result.simple_sentences_in.0.lost_members }}</li>
                                  <li>–°—Ö–µ–º–∞: [{% for token in result.tokens %}
                                      {% if token.line == "none" %}
                                          {{ token.text }}
                                      {% else %}
                                          <a class="{{ token.line }}" style="color: transparent">_____</a>
                                      {% endif %}
                                  {% endfor %}]
                                  </li>
                              </ol>
                          </div>
                      </div>
                      {% else %}
                          <h6 class="u-custom-font u-font-georgia u-text u-text-9">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:</h6>
                          <div class="u-custom-font u-font-georgia u-text u-text-9" style="display: flex;">
                              <div style="flex: 1;">
                                  <h6>I.</h6>
                                  <ol>
                                      <li>{{ result.type_goal }}</li>
                                      <li>{{ result.type_intonation }}</li>
                                  </ol>
                              </div>
                              <div style="flex: 1;">
                                  <h6>II.</h6>
                                  <ol>
                                      <li>{{ result.gram_bases }}</li>
                                      <li>–°—Ö–µ–º–∞: [{% for token in result.tokens %}
                                          {% if token.line == "none" %}
                                              {{ token.text }}
                                          {% elif token.line == "line" or token.line == "double_line" %}
                                              <a class="{{ token.line }}" style="color: transparent">_____</a>
                                          {% endif %}
                                      {% endfor %}]
                                      </li>
                                  </ol>
                              </div>
                          </div>
                          {% for part_result in result.simple_sentences_in %}

                              <label class="u-custom-font u-font-georgia u-text u-text-9">
                                  <b>–ß–∞—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:</b> <br>
                                  {% for token in part_result.tokens %}
                                      <label class="u-custom-font u-font-georgia u-text u-text-9"
                                             style="text-align: center">
                                          <a style="font-size: x-small">{{ token.pos }}</a>
                                          <br>
                                          <a class="{{ token.line }}">{{ token.text }}</a>
                                      </label>
                                  {% endfor %} -
                                  ({{ part_result.main_members }}; {{ part_result.second_members }}; {{ part_result.lost_members }}; {{ part_result.difficulty_members }})

                              </label>
                              <br><br>


                          {% endfor %}
                      {% endif %}
                    {% endfor %}
                  <br>

                  {% if request.user.is_authenticated %}

                      <label>
                          <form method="post" action="{% url 'dislike' sentence.sent_id %}?from={{ from_request }}">
                      {% csrf_token %}
                              {% if not sentence.disliked %}
                              <button type="submit" class="u-align-center u-btn u-btn-round u-button-style u-custom-font u-font-georgia u-hover-palette-1-light-1 u-palette-1-base u-radius u-btn-7">–ù–µ –ù—Ä–∞–≤–∏—Ç—Å—è üëé </button>
                          {% else %}
                              <button type="submit" class="u-align-center u-btn u-btn-round u-button-style u-custom-font u-font-georgia u-hover-palette-1-light-1  u-radius u-btn-7 " style="background-color: black">–ù–µ –ù—Ä–∞–≤–∏—Ç—Å—è </button>
                          {% endif %}
                      </form>
                      </label>

                        <label>

                            <form method="post" action="{% url 'favourite' sentence.sent_id %}?from={{ from_request }}">
                      {% csrf_token %}
                                {% if not sentence.in_fav %}
                              <button type="submit" class="u-align-center u-btn u-btn-round u-button-style u-custom-font u-font-georgia u-hover-palette-1-light-1 u-palette-1-base u-radius u-btn-8">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ </button>
                          {% else %}
                              <button type="submit" class="u-align-center u-btn u-btn-round u-button-style u-custom-font u-font-georgia u-hover-palette-1-light-1  u-radius u-btn-8 " style="background-color: black">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º </button>
                          {% endif %}
                      </form>
                        </label>

                        <label>
                            <form method="post" action="{% url 'like' sentence.sent_id %}?from={{ from_request }}">
                      {% csrf_token %}
                                {% if not sentence.liked %}
                              <button type="submit" class="u-align-center u-btn u-btn-round u-button-style u-custom-font u-font-georgia u-hover-palette-1-light-1 u-palette-1-base u-radius u-btn-9">–ù—Ä–∞–≤–∏—Ç—Å—è üëç </button>
                          {% else %}
                              <button type="submit" class="u-align-center u-btn u-btn-round u-button-style u-custom-font u-font-georgia u-hover-palette-1-light-1  u-radius u-btn-9 " style="background-color: black">–ù—Ä–∞–≤–∏—Ç—Å—è </button>
                          {% endif %}
                      </form>
                      </label>
                      <label>
                          <a href="{% url 'change_sentence' sentence.sent_id %}?from={{ from_request }}">
                              <button class="u-align-center u-btn u-btn-round u-button-style u-custom-font u-font-georgia u-hover-palette-1-light-1 u-palette-1-base u-radius u-btn-9">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                          </a>
                      </label>


                  {% else %}

                          <label>
                            <button  class="u-align-center u-btn u-btn-round u-button-style u-custom-font block-button u-font-georgia  u-radius u-btn-7">üîí –ù–µ –ù—Ä–∞–≤–∏—Ç—Å—è üëé </button>
                          </label>
                          <label>
                            <button class="u-align-center u-btn u-btn-round u-button-style u-custom-font block-button u-font-georgia u-radius u-btn-8">üîí –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ </button>
                          </label>
                          <label>
                            <button class="u-align-center u-btn u-btn-round u-button-style u-custom-font block-button u-font-georgia u-radius u-btn-9">üîí –ù—Ä–∞–≤–∏—Ç—Å—è üëç </button>
                          </label>


                          <label>
                            <button class="u-align-center u-btn u-btn-round u-button-style u-custom-font block-button u-font-georgia u-radius u-btn-9">üîí –ò–∑–º–µ–Ω–∏—Ç—å </button>
                          </label>

                {% endif %}



              {% endfor %}

              </div>

{% endif %}
</div>

<div class="u-container-style u-layout-cell u-size-23 u-layout-cell-3">
              <div class="u-container-layout u-container-layout-4">
                <h3 class="u-custom-font u-font-georgia u-text u-text-custom-color-1 u-text-5">–†–∞–∑–æ–±—Ä–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</h3>
                <div class="u-expanded-width u-form u-form-2">
                   <form action="/check_sentence/" method="POST">
                    {% csrf_token %}
                    {{ sentence_form }}
                    <br>
                    <div class="u-align-right u-form-group u-form-submit u-label-none">
                      <input type="submit" value="–†–∞–∑–æ–±—Ä–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ" class="btn btn-primary">
                    </div>
                  </form>
                </div>
              </div>
</div>
{% endblock %}